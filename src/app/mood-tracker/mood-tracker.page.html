<ion-header class="mood-header">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button routerLink="/home">
        <img src="assets/images/Home.png" alt="Home Icon" class="home-icon" />
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-chip *ngIf="!isGuest" class="profile-icon" (click)="openUserMenu($event)">
        <ion-label>{{ userInitials || 'NA' }}</ion-label>
      </ion-chip>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="gray-background">
  <!-- Loading indicator -->
  <div class="loading-indicator" *ngIf="isLoading">
    <ion-spinner name="circular"></ion-spinner>
    <p>Loading...</p>
  </div>

  <div class="app-branding">
    <img src="assets/images/Logo.png" alt="MindMate Logo" class="app-logo" />
    <h2 class="app-title">MindMate</h2>
  </div>

  <div class="mood-labels">
    <div class="question">How do you feel today?</div>
    <div class="subtext">I am feeling:</div>
  </div>
    
  <div class="mood-emojis">
    <ion-button fill="clear" *ngFor="let mood of moods; let i = index" (click)="selectMood(i)">
      <img [src]="mood.icon" [alt]="mood.label" [class.selected]="selectedMood === i" />
    </ion-button>
  </div>

  <div class="mood-bar"></div>

  <!-- Calendar Component -->
  <div class="mood-calendar">
    <ion-datetime 
      presentation="date" 
      [value]="selectedDate" 
      (ionChange)="onDateChange($event)"
      [highlightedDates]="highlightedDates"
      class="calendar-picker">
    </ion-datetime>
  </div>
</ion-content>
