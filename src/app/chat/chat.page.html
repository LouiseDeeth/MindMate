<ion-header class="chat-header">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>MindMate</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="gray-background chat-content" [scrollEvents]="true">
  <div *ngFor="let msg of messages">
    <div class="message-row" [ngClass]="msg.role">
      <div *ngIf="msg.role === 'assistant'" class="bubble-avatar">
        <img src="assets/images/Logo.png" alt="MindMate">
      </div>
      <div [ngClass]="msg.role === 'user' ? 'user-bubble' : 'bot-bubble'">
        <p>{{ msg.content }}</p>
      </div>
    </div>
  </div>
</ion-content>

<ion-footer class="chat-footer">
  <ion-toolbar>
    <ion-input
      [(ngModel)]="userInput"
      placeholder="Message..."
      class="chat-input"
      inputmode="text"
    ></ion-input>
    <ion-buttons slot="end">
      <ion-button (click)="sendMessage()" fill="clear" class="send-btn">
        <ion-icon name="send" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
